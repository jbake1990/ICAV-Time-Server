{"ast":null,"code":"// Use relative URLs in production (Vercel) and allow override in development\nconst API_BASE_URL=process.env.REACT_APP_API_URL||(process.env.NODE_ENV==='production'?'':'http://localhost:3000');export const api={// Time Entries\nasync getTimeEntries(){const url=\"\".concat(API_BASE_URL,\"/api/time-entries\");console.log('Fetching time entries from:',url);// Debug log\nconst response=await fetch(url);if(!response.ok){console.error('API response not ok:',response.status,response.statusText);throw new Error(\"Failed to fetch time entries: \".concat(response.status,\" \").concat(response.statusText));}return response.json();},async createTimeEntry(data){const url=\"\".concat(API_BASE_URL,\"/api/time-entries\");const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(!response.ok){throw new Error(\"Failed to create time entry: \".concat(response.status,\" \").concat(response.statusText));}return response.json();},// Users\nasync getUsers(){const url=\"\".concat(API_BASE_URL,\"/api/users\");const response=await fetch(url);if(!response.ok){throw new Error(\"Failed to fetch users: \".concat(response.status,\" \").concat(response.statusText));}return response.json();},async createUser(data){const url=\"\".concat(API_BASE_URL,\"/api/users\");const response=await fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});if(!response.ok){throw new Error(\"Failed to create user: \".concat(response.status,\" \").concat(response.statusText));}return response.json();}};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","NODE_ENV","api","getTimeEntries","url","concat","console","log","response","fetch","ok","error","status","statusText","Error","json","createTimeEntry","data","method","headers","body","JSON","stringify","getUsers","createUser"],"sources":["/Users/jasonbaker/Documents/ICAV Time Tracker/WebApp/src/services/api.ts"],"sourcesContent":["// Use relative URLs in production (Vercel) and allow override in development\nconst API_BASE_URL = process.env.REACT_APP_API_URL || (process.env.NODE_ENV === 'production' ? '' : 'http://localhost:3000');\n\nexport interface ApiTimeEntry {\n  id: string;\n  userId: string;\n  technicianName: string;\n  customerName: string;\n  clockInTime: string;\n  clockOutTime?: string;\n  lunchStartTime?: string;\n  lunchEndTime?: string;\n  isActive: boolean;\n  isOnLunch: boolean;\n  duration?: number;\n  formattedDuration?: string;\n  lunchDuration?: number;\n  formattedLunchDuration?: string;\n}\n\nexport interface ApiUser {\n  id: string;\n  username: string;\n  displayName: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport const api = {\n  // Time Entries\n  async getTimeEntries(): Promise<ApiTimeEntry[]> {\n    const url = `${API_BASE_URL}/api/time-entries`;\n    console.log('Fetching time entries from:', url); // Debug log\n    \n    const response = await fetch(url);\n    if (!response.ok) {\n      console.error('API response not ok:', response.status, response.statusText);\n      throw new Error(`Failed to fetch time entries: ${response.status} ${response.statusText}`);\n    }\n    return response.json();\n  },\n\n  async createTimeEntry(data: {\n    userId: string;\n    technicianName: string;\n    customerName: string;\n    clockInTime: string;\n    clockOutTime?: string;\n    lunchStartTime?: string;\n    lunchEndTime?: string;\n  }): Promise<ApiTimeEntry> {\n    const url = `${API_BASE_URL}/api/time-entries`;\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to create time entry: ${response.status} ${response.statusText}`);\n    }\n    return response.json();\n  },\n\n  // Users\n  async getUsers(): Promise<ApiUser[]> {\n    const url = `${API_BASE_URL}/api/users`;\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`Failed to fetch users: ${response.status} ${response.statusText}`);\n    }\n    return response.json();\n  },\n\n  async createUser(data: { username: string; displayName: string }): Promise<ApiUser> {\n    const url = `${API_BASE_URL}/api/users`;\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to create user: ${response.status} ${response.statusText}`);\n    }\n    return response.json();\n  },\n}; "],"mappings":"AAAA;AACA,KAAM,CAAAA,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAAKF,OAAO,CAACC,GAAG,CAACE,QAAQ,GAAK,YAAY,CAAG,EAAE,CAAG,uBAAuB,CAAC,CA2B5H,MAAO,MAAM,CAAAC,GAAG,CAAG,CACjB;AACA,KAAM,CAAAC,cAAcA,CAAA,CAA4B,CAC9C,KAAM,CAAAC,GAAG,IAAAC,MAAA,CAAMR,YAAY,qBAAmB,CAC9CS,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEH,GAAG,CAAC,CAAE;AAEjD,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACL,GAAG,CAAC,CACjC,GAAI,CAACI,QAAQ,CAACE,EAAE,CAAE,CAChBJ,OAAO,CAACK,KAAK,CAAC,sBAAsB,CAAEH,QAAQ,CAACI,MAAM,CAAEJ,QAAQ,CAACK,UAAU,CAAC,CAC3E,KAAM,IAAI,CAAAC,KAAK,kCAAAT,MAAA,CAAkCG,QAAQ,CAACI,MAAM,MAAAP,MAAA,CAAIG,QAAQ,CAACK,UAAU,CAAE,CAAC,CAC5F,CACA,MAAO,CAAAL,QAAQ,CAACO,IAAI,CAAC,CAAC,CACxB,CAAC,CAED,KAAM,CAAAC,eAAeA,CAACC,IAQrB,CAAyB,CACxB,KAAM,CAAAb,GAAG,IAAAC,MAAA,CAAMR,YAAY,qBAAmB,CAC9C,KAAM,CAAAW,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACL,GAAG,CAAE,CAChCc,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAC3B,CAAC,CAAC,CACF,GAAI,CAACT,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAI,KAAK,iCAAAT,MAAA,CAAiCG,QAAQ,CAACI,MAAM,MAAAP,MAAA,CAAIG,QAAQ,CAACK,UAAU,CAAE,CAAC,CAC3F,CACA,MAAO,CAAAL,QAAQ,CAACO,IAAI,CAAC,CAAC,CACxB,CAAC,CAED;AACA,KAAM,CAAAQ,QAAQA,CAAA,CAAuB,CACnC,KAAM,CAAAnB,GAAG,IAAAC,MAAA,CAAMR,YAAY,cAAY,CACvC,KAAM,CAAAW,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACL,GAAG,CAAC,CACjC,GAAI,CAACI,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAI,KAAK,2BAAAT,MAAA,CAA2BG,QAAQ,CAACI,MAAM,MAAAP,MAAA,CAAIG,QAAQ,CAACK,UAAU,CAAE,CAAC,CACrF,CACA,MAAO,CAAAL,QAAQ,CAACO,IAAI,CAAC,CAAC,CACxB,CAAC,CAED,KAAM,CAAAS,UAAUA,CAACP,IAA+C,CAAoB,CAClF,KAAM,CAAAb,GAAG,IAAAC,MAAA,CAAMR,YAAY,cAAY,CACvC,KAAM,CAAAW,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACL,GAAG,CAAE,CAChCc,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAC3B,CAAC,CAAC,CACF,GAAI,CAACT,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAI,KAAK,2BAAAT,MAAA,CAA2BG,QAAQ,CAACI,MAAM,MAAAP,MAAA,CAAIG,QAAQ,CAACK,UAAU,CAAE,CAAC,CACrF,CACA,MAAO,CAAAL,QAAQ,CAACO,IAAI,CAAC,CAAC,CACxB,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}