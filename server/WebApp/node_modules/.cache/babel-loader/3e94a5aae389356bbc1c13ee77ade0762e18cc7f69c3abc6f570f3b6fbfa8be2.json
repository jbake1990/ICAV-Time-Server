{"ast":null,"code":"import React,{useState,useMemo,useEffect}from'react';import{Clock,Users,Settings,Download,X,UserPlus,Trash2,LogOut,UserCheck,Shield,FileText}from'lucide-react';import{api}from'./services/api';import DashboardStatsComponent from'./components/DashboardStats';import TimeEntryFiltersComponent from'./components/TimeEntryFilters';import TimeEntryCard from'./components/TimeEntryCard';import{LoginForm}from'./components/LoginForm';import Reports from'./components/Reports';import{AuthProvider,useAuth}from'./contexts/AuthContext';import{formatDate,formatTime}from'./utils/timeUtils';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AppContent(){var _authState$user,_authState$user2,_authState$user3,_authState$user4,_authState$user5;const{state:authState,login,logout,clearError}=useAuth();const[filters,setFilters]=useState({});const[selectedEntry,setSelectedEntry]=useState(null);const[timeEntries,setTimeEntries]=useState([]);const[users,setUsers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showSettings,setShowSettings]=useState(false);const[showCreateUser,setShowCreateUser]=useState(false);const[showReports,setShowReports]=useState(false);const[newUser,setNewUser]=useState({username:'',displayName:'',password:'',role:'tech'});const[creatingUser,setCreatingUser]=useState(false);const[userToDelete,setUserToDelete]=useState(null);const[deletingUser,setDeletingUser]=useState(false);const[clearingDatabase,setClearingDatabase]=useState(false);const[showClearDatabaseConfirm,setShowClearDatabaseConfirm]=useState(false);// Clear time entries when user logs out\nuseEffect(()=>{if(!authState.isAuthenticated){setTimeEntries([]);setUsers([]);setError(null);}},[authState.isAuthenticated]);// Load time entries from API\nuseEffect(()=>{const loadTimeEntries=async()=>{// Only load time entries if user is authenticated\nif(!authState.isAuthenticated){console.log('User not authenticated, skipping time entries load');return;}try{setLoading(true);const apiEntries=await api.getTimeEntries();// Convert API data to frontend format\nconst formattedEntries=apiEntries.map(entry=>({...entry,clockInTime:entry.clockInTime?new Date(entry.clockInTime):undefined,clockOutTime:entry.clockOutTime?new Date(entry.clockOutTime):undefined,lunchStartTime:entry.lunchStartTime?new Date(entry.lunchStartTime):undefined,lunchEndTime:entry.lunchEndTime?new Date(entry.lunchEndTime):undefined,driveStartTime:entry.driveStartTime?new Date(entry.driveStartTime):undefined,driveEndTime:entry.driveEndTime?new Date(entry.driveEndTime):undefined}));console.log('API Response - Raw entries:',apiEntries);console.log('API Response - Formatted entries:',formattedEntries);console.log('Entries with drive time:',formattedEntries.filter(entry=>entry.driveStartTime||entry.driveEndTime));setTimeEntries(formattedEntries);setError(null);}catch(err){console.error('Failed to load time entries:',err);console.error('Error details:',{message:err instanceof Error?err.message:'Unknown error',stack:err instanceof Error?err.stack:undefined,timestamp:new Date().toISOString()});setError('Failed to load time entries. Using sample data.');// Fallback to mock data if API fails\nconst{mockTimeEntries}=await import('./data/mockData');setTimeEntries(mockTimeEntries);}finally{setLoading(false);}};loadTimeEntries();},[authState.isAuthenticated]);// Add authState.isAuthenticated as dependency\n// Load users from API\nuseEffect(()=>{const loadUsers=async()=>{// Only load users if user is authenticated\nif(!authState.isAuthenticated){console.log('User not authenticated, skipping users load');return;}try{const apiUsers=await api.getUsers();const formattedUsers=apiUsers.map(user=>({id:user.id,username:user.username,displayName:user.displayName,role:user.role||'tech'// Default to tech role if not provided\n}));setUsers(formattedUsers);}catch(err){console.error('Failed to load users:',err);}};loadUsers();},[authState.isAuthenticated]);// Add authState.isAuthenticated as dependency\n// Filter time entries based on current filters\nconst filteredEntries=useMemo(()=>{let filtered=[...timeEntries];if(filters.technicianName){filtered=filtered.filter(entry=>entry.technicianName.toLowerCase().includes(filters.technicianName.toLowerCase()));}if(filters.customerName){filtered=filtered.filter(entry=>entry.customerName.toLowerCase().includes(filters.customerName.toLowerCase()));}if(filters.status&&filters.status!=='all'){if(filters.status==='active'){filtered=filtered.filter(entry=>entry.isActive);}else if(filters.status==='completed'){filtered=filtered.filter(entry=>!entry.isActive);}}if(filters.dateRange){filtered=filtered.filter(entry=>{const entryDate=entry.clockInTime||entry.driveStartTime;if(!entryDate)return false;return entryDate>=filters.dateRange.start&&entryDate<=filters.dateRange.end;});}return filtered.sort((a,b)=>{const aDate=a.clockInTime||a.driveStartTime;const bDate=b.clockInTime||b.driveStartTime;if(!aDate||!bDate)return 0;return bDate.getTime()-aDate.getTime();});},[filters,timeEntries]);// Calculate dashboard stats from real data\nconst dashboardStats=useMemo(()=>{const totalEntries=timeEntries.length;const activeEntries=timeEntries.filter(entry=>entry.isActive).length;const totalHours=timeEntries.filter(entry=>entry.duration).reduce((sum,entry)=>sum+(entry.duration||0),0)/(1000*60*60);const averageHoursPerDay=totalHours/Math.max(1,new Set(timeEntries.map(e=>{const date=e.clockInTime||e.driveStartTime;return date?date.toDateString():'unknown';}).filter(dateStr=>dateStr!=='unknown')).size);const techniciansWorking=new Set(timeEntries.filter(entry=>entry.isActive).map(entry=>entry.userId)).size;return{totalEntries,activeEntries,totalHours,averageHoursPerDay,techniciansWorking};},[timeEntries]);// Get unique technician and customer names for filters\nconst technicianNames=useMemo(()=>[...new Set(timeEntries.map(entry=>entry.technicianName))].sort(),[timeEntries]);const customerNames=useMemo(()=>[...new Set(timeEntries.map(entry=>entry.customerName))].sort(),[timeEntries]);// Group entries by date\nconst groupedEntries=useMemo(()=>{const groups={};filteredEntries.forEach(entry=>{const entryDate=entry.clockInTime||entry.driveStartTime;const dateKey=entryDate?entryDate.toDateString():'Unknown';if(!groups[dateKey]){groups[dateKey]=[];}groups[dateKey].push(entry);});return groups;},[filteredEntries]);// CSV Export functionality\nconst handleExport=()=>{const csvHeaders=['Date','Technician Name','Customer Name','Clock In Time','Clock Out Time','Drive Start','Drive End','Lunch Start','Lunch End','Total Duration','Drive Duration','Lunch Duration','Status'];const csvData=filteredEntries.map(entry=>[formatDate(entry.clockInTime||entry.driveStartTime||new Date())||'Unknown Date',entry.technicianName,entry.customerName,entry.clockInTime?formatTime(entry.clockInTime):'N/A',entry.clockOutTime?formatTime(entry.clockOutTime):'N/A',entry.driveStartTime?formatTime(entry.driveStartTime):'N/A',entry.driveEndTime?formatTime(entry.driveEndTime):'N/A',entry.lunchStartTime?formatTime(entry.lunchStartTime):'N/A',entry.lunchEndTime?formatTime(entry.lunchEndTime):'N/A',entry.formattedDuration||'N/A',entry.formattedDriveDuration||'N/A',entry.formattedLunchDuration||'N/A',entry.isDriving?'Driving':entry.isActive?entry.isOnLunch?'On Lunch':'Active':'Completed']);const csvContent=[csvHeaders,...csvData].map(row=>row.map(cell=>`\"${cell}\"`).join(',')).join('\\n');const blob=new Blob([csvContent],{type:'text/csv;charset=utf-8;'});const link=document.createElement('a');if(link.download!==undefined){const url=URL.createObjectURL(blob);link.setAttribute('href',url);link.setAttribute('download',`time_entries_${new Date().toISOString().split('T')[0]}.csv`);link.style.visibility='hidden';document.body.appendChild(link);link.click();document.body.removeChild(link);}};// Create new user\nconst handleCreateUser=async()=>{if(!newUser.username.trim()||!newUser.displayName.trim()||!newUser.password.trim()){alert('Please fill in username, display name, and password');return;}if(newUser.password.length<6){alert('Password must be at least 6 characters long');return;}try{setCreatingUser(true);const createdUser=await api.createUser({username:newUser.username.trim(),displayName:newUser.displayName.trim(),password:newUser.password,role:newUser.role});setUsers(prev=>[...prev,{id:createdUser.id,username:createdUser.username,displayName:createdUser.displayName,role:createdUser.role||'tech'// Default to tech role if not provided\n}]);setNewUser({username:'',displayName:'',password:'',role:'tech'});setShowCreateUser(false);alert('User created successfully!');}catch(err){console.error('Failed to create user:',err);alert('Failed to create user. Please try again.');}finally{setCreatingUser(false);}};// Delete user\nconst handleDeleteUser=async()=>{if(!userToDelete)return;try{setDeletingUser(true);await api.deleteUser(userToDelete.id);// Remove user from local state\nsetUsers(users.filter(u=>u.id!==userToDelete.id));setUserToDelete(null);}catch(error){console.error('Failed to delete user:',error);setError('Failed to delete user. They may have existing time entries.');}finally{setDeletingUser(false);}};const handleClearDatabase=async()=>{try{setClearingDatabase(true);await api.clearDatabase();// Clear local time entries\nsetTimeEntries([]);setShowClearDatabaseConfirm(false);// Show success message\nalert('Database cleared successfully! All time entries have been removed.');}catch(error){console.error('Failed to clear database:',error);setError('Failed to clear database. Please try again.');}finally{setClearingDatabase(false);}};// Handle authentication loading\nif(authState.isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-12 h-12 text-primary-600 mx-auto mb-4 animate-spin\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Checking authentication...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Please wait\"})]})});}// Show login form if not authenticated\nif(!authState.isAuthenticated){return/*#__PURE__*/_jsx(LoginForm,{onLogin:async(username,password)=>{await login(username,password);clearError();},isLoading:authState.isLoading,error:authState.error});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-12 h-12 text-primary-600 mx-auto mb-4 animate-spin\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Loading...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Fetching time entries from database\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-8 h-8 text-primary-600\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold text-gray-900\",children:\"ICAV Time Tracker\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Office Dashboard\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-sm\",children:[((_authState$user=authState.user)===null||_authState$user===void 0?void 0:_authState$user.role)==='admin'?/*#__PURE__*/_jsx(Shield,{className:\"w-4 h-4 text-orange-500\"}):/*#__PURE__*/_jsx(UserCheck,{className:\"w-4 h-4 text-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:(_authState$user2=authState.user)===null||_authState$user2===void 0?void 0:_authState$user2.displayName}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-500\",children:[\"(\",((_authState$user3=authState.user)===null||_authState$user3===void 0?void 0:_authState$user3.role)==='admin'?'Admin':'Tech',\")\"]})]})}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-orange-600 bg-orange-50 px-3 py-1 rounded-lg\",children:[\"\\u26A0\\uFE0F \",error]}),((_authState$user4=authState.user)===null||_authState$user4===void 0?void 0:_authState$user4.role)==='admin'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowReports(true),className:\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Reports\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleExport,className:\"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettings(true),className:\"p-2 text-gray-400 hover:text-gray-600\",title:\"Settings\",children:/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:logout,className:\"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 transition-colors\",title:\"Logout\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Logout\"})]})]})]})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsx(DashboardStatsComponent,{stats:dashboardStats}),/*#__PURE__*/_jsx(TimeEntryFiltersComponent,{filters:filters,onFiltersChange:setFilters,technicianNames:technicianNames,customerNames:customerNames}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:[\"Time Entries (\",filteredEntries.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Showing \",filteredEntries.length,\" of \",timeEntries.length,\" entries\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[Object.entries(groupedEntries).map(_ref=>{let[dateKey,entries]=_ref;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:dateKey==='Unknown'?'Unknown Date':formatDate(new Date(dateKey))}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\",children:entries.map(entry=>/*#__PURE__*/_jsx(TimeEntryCard,{entry:entry,onClick:()=>setSelectedEntry(entry)},entry.id))})]},dateKey);}),filteredEntries.length===0&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-12 h-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No time entries found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:timeEntries.length===0?\"No time entries in database. Add some entries to get started.\":\"Try adjusting your filters to see more results.\"})]})]})]}),showSettings&&((_authState$user5=authState.user)===null||_authState$user5===void 0?void 0:_authState$user5.role)==='admin'&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettings(false),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:\"User Management\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateUser(true),className:\"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\",children:[/*#__PURE__*/_jsx(UserPlus,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add User\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:users.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-4\",children:\"No users found. Add your first user!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:users.map(user=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between bg-white p-3 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:user.displayName}),/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 text-xs font-medium rounded-full ${user.role==='admin'?'bg-orange-100 text-orange-800':'bg-blue-100 text-blue-800'}`,children:user.role==='admin'?'Admin':'Tech'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"@\",user.username]}),user.email&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400\",children:user.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-400\",children:[\"ID: \",user.id.slice(0,8),\"...\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUserToDelete(user),className:\"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\",title:\"Delete user\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})]},user.id))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Export Data\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Export filtered time entries to CSV format for analysis in Excel or other tools.\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{handleExport();setShowSettings(false);},className:\"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export Current View\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Database Management\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-md font-medium text-gray-900 mb-2\",children:\"Clear Database\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4\",children:\"Remove all time entries from the database. This action cannot be undone and will permanently delete all time tracking data.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-3 mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Warning:\"}),\" This will permanently delete all time entries. Make sure you have exported any important data before proceeding.\"]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowClearDatabaseConfirm(true),className:\"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Clear All Time Entries\"})]})]})})]})]})})}),userToDelete&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Delete User\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUserToDelete(null),className:\"text-gray-400 hover:text-gray-600\",disabled:deletingUser,children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-5 h-5 text-red-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Are you sure?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"This action cannot be undone.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900\",children:userToDelete.displayName}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"@\",userToDelete.username]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Users with existing time entries cannot be deleted. This protects your data integrity.\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setUserToDelete(null),disabled:deletingUser,className:\"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteUser,disabled:deletingUser,className:\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:deletingUser?'Deleting...':'Delete User'})]})]})})}),showCreateUser&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Create New User\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCreateUser(false);setNewUser({username:'',displayName:'',password:'',role:'tech'});},className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Username *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUser.username,onChange:e=>setNewUser(prev=>({...prev,username:e.target.value})),placeholder:\"john.doe\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Username should be lowercase with dots or underscores\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Display Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newUser.displayName,onChange:e=>setNewUser(prev=>({...prev,displayName:e.target.value})),placeholder:\"John Doe\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Full name as it will appear in the interface\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Password *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newUser.password,onChange:e=>setNewUser(prev=>({...prev,password:e.target.value})),placeholder:\"Enter password\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Leave blank to use default password (username123)\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{value:newUser.role,onChange:e=>setNewUser(prev=>({...prev,role:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"tech\",children:\"Technician\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Administrator\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Technicians can only view data, Admins can manage users and export data\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowCreateUser(false);setNewUser({username:'',displayName:'',password:'',role:'tech'});},className:\"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateUser,disabled:creatingUser||!newUser.username||!newUser.displayName,className:\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:creatingUser?'Creating...':'Create User'})]})]})})}),showClearDatabaseConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-md w-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Clear Database\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowClearDatabaseConfirm(false),className:\"text-gray-400 hover:text-gray-600\",disabled:clearingDatabase,children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-5 h-5 text-red-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Are you absolutely sure?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"This action cannot be undone.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-lg p-3 mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Warning:\"}),\" This will permanently delete ALL time entries from the database. This includes all clock in/out records, lunch breaks, and time tracking data.\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Recommendation:\"}),\" Export your data first to preserve any important records.\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowClearDatabaseConfirm(false),disabled:clearingDatabase,className:\"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClearDatabase,disabled:clearingDatabase,className:\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",children:clearingDatabase?'Clearing...':'Clear All Data'})]})]})})}),selectedEntry&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Entry Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedEntry(null),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"})})]}),/*#__PURE__*/_jsx(TimeEntryCard,{entry:selectedEntry})]})})}),showReports&&/*#__PURE__*/_jsx(Reports,{timeEntries:timeEntries,onClose:()=>setShowReports(false)})]});}// Main App component with AuthProvider wrapper\nfunction App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(AppContent,{})});}export default App;","map":{"version":3,"names":["React","useState","useMemo","useEffect","Clock","Users","Settings","Download","X","UserPlus","Trash2","LogOut","UserCheck","Shield","FileText","api","DashboardStatsComponent","TimeEntryFiltersComponent","TimeEntryCard","LoginForm","Reports","AuthProvider","useAuth","formatDate","formatTime","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AppContent","_authState$user","_authState$user2","_authState$user3","_authState$user4","_authState$user5","state","authState","login","logout","clearError","filters","setFilters","selectedEntry","setSelectedEntry","timeEntries","setTimeEntries","users","setUsers","loading","setLoading","error","setError","showSettings","setShowSettings","showCreateUser","setShowCreateUser","showReports","setShowReports","newUser","setNewUser","username","displayName","password","role","creatingUser","setCreatingUser","userToDelete","setUserToDelete","deletingUser","setDeletingUser","clearingDatabase","setClearingDatabase","showClearDatabaseConfirm","setShowClearDatabaseConfirm","isAuthenticated","loadTimeEntries","console","log","apiEntries","getTimeEntries","formattedEntries","map","entry","clockInTime","Date","undefined","clockOutTime","lunchStartTime","lunchEndTime","driveStartTime","driveEndTime","filter","err","message","Error","stack","timestamp","toISOString","mockTimeEntries","loadUsers","apiUsers","getUsers","formattedUsers","user","id","filteredEntries","filtered","technicianName","toLowerCase","includes","customerName","status","isActive","dateRange","entryDate","start","end","sort","a","b","aDate","bDate","getTime","dashboardStats","totalEntries","length","activeEntries","totalHours","duration","reduce","sum","averageHoursPerDay","Math","max","Set","e","date","toDateString","dateStr","size","techniciansWorking","userId","technicianNames","customerNames","groupedEntries","groups","forEach","dateKey","push","handleExport","csvHeaders","csvData","formattedDuration","formattedDriveDuration","formattedLunchDuration","isDriving","isOnLunch","csvContent","row","cell","join","blob","Blob","type","link","document","createElement","download","url","URL","createObjectURL","setAttribute","split","style","visibility","body","appendChild","click","removeChild","handleCreateUser","trim","alert","createdUser","createUser","prev","handleDeleteUser","deleteUser","u","handleClearDatabase","clearDatabase","isLoading","className","children","onLogin","onClick","title","stats","onFiltersChange","Object","entries","_ref","email","slice","disabled","value","onChange","target","placeholder","onClose","App"],"sources":["/Users/jasonbaker/Documents/ICAV Time Tracker/icav-time-dev/server/WebApp/src/App.tsx"],"sourcesContent":["import React, { useState, useMemo, useEffect } from 'react';\nimport { Clock, Users, Settings, Download, X, UserPlus, Trash2, LogOut, UserCheck, Shield, FileText } from 'lucide-react';\nimport { TimeEntry, TimeEntryFilters, DashboardStats, User } from './types';\nimport { api } from './services/api';\nimport DashboardStatsComponent from './components/DashboardStats';\nimport TimeEntryFiltersComponent from './components/TimeEntryFilters';\nimport TimeEntryCard from './components/TimeEntryCard';\nimport { LoginForm } from './components/LoginForm';\nimport Reports from './components/Reports';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport { formatDate, formatTime } from './utils/timeUtils';\n\nfunction AppContent() {\n  const { state: authState, login, logout, clearError } = useAuth();\n  const [filters, setFilters] = useState<TimeEntryFilters>({});\n  const [selectedEntry, setSelectedEntry] = useState<TimeEntry | null>(null);\n  const [timeEntries, setTimeEntries] = useState<TimeEntry[]>([]);\n  const [users, setUsers] = useState<User[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showSettings, setShowSettings] = useState(false);\n  const [showCreateUser, setShowCreateUser] = useState(false);\n  const [showReports, setShowReports] = useState(false);\n  const [newUser, setNewUser] = useState({ username: '', displayName: '', password: '', role: 'tech' });\n  const [creatingUser, setCreatingUser] = useState(false);\n  const [userToDelete, setUserToDelete] = useState<User | null>(null);\n  const [deletingUser, setDeletingUser] = useState(false);\n  const [clearingDatabase, setClearingDatabase] = useState(false);\n  const [showClearDatabaseConfirm, setShowClearDatabaseConfirm] = useState(false);\n\n  // Clear time entries when user logs out\n  useEffect(() => {\n    if (!authState.isAuthenticated) {\n      setTimeEntries([]);\n      setUsers([]);\n      setError(null);\n    }\n  }, [authState.isAuthenticated]);\n\n  // Load time entries from API\n  useEffect(() => {\n    const loadTimeEntries = async () => {\n      // Only load time entries if user is authenticated\n      if (!authState.isAuthenticated) {\n        console.log('User not authenticated, skipping time entries load');\n        return;\n      }\n      \n      try {\n        setLoading(true);\n        const apiEntries = await api.getTimeEntries();\n        \n        // Convert API data to frontend format\n        const formattedEntries: TimeEntry[] = apiEntries.map(entry => ({\n          ...entry,\n          clockInTime: entry.clockInTime ? new Date(entry.clockInTime) : undefined,\n          clockOutTime: entry.clockOutTime ? new Date(entry.clockOutTime) : undefined,\n          lunchStartTime: entry.lunchStartTime ? new Date(entry.lunchStartTime) : undefined,\n          lunchEndTime: entry.lunchEndTime ? new Date(entry.lunchEndTime) : undefined,\n          driveStartTime: entry.driveStartTime ? new Date(entry.driveStartTime) : undefined,\n          driveEndTime: entry.driveEndTime ? new Date(entry.driveEndTime) : undefined,\n        }));\n        \n        console.log('API Response - Raw entries:', apiEntries);\n        console.log('API Response - Formatted entries:', formattedEntries);\n        console.log('Entries with drive time:', formattedEntries.filter(entry => entry.driveStartTime || entry.driveEndTime));\n        \n        setTimeEntries(formattedEntries);\n        setError(null);\n      } catch (err) {\n        console.error('Failed to load time entries:', err);\n        console.error('Error details:', {\n          message: err instanceof Error ? err.message : 'Unknown error',\n          stack: err instanceof Error ? err.stack : undefined,\n          timestamp: new Date().toISOString()\n        });\n        setError('Failed to load time entries. Using sample data.');\n        // Fallback to mock data if API fails\n        const { mockTimeEntries } = await import('./data/mockData');\n        setTimeEntries(mockTimeEntries);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadTimeEntries();\n  }, [authState.isAuthenticated]); // Add authState.isAuthenticated as dependency\n\n  // Load users from API\n  useEffect(() => {\n    const loadUsers = async () => {\n      // Only load users if user is authenticated\n      if (!authState.isAuthenticated) {\n        console.log('User not authenticated, skipping users load');\n        return;\n      }\n      \n      try {\n        const apiUsers = await api.getUsers();\n        const formattedUsers: User[] = apiUsers.map(user => ({\n          id: user.id,\n          username: user.username,\n          displayName: user.displayName,\n          role: (user as any).role || 'tech' // Default to tech role if not provided\n        }));\n        setUsers(formattedUsers);\n      } catch (err) {\n        console.error('Failed to load users:', err);\n      }\n    };\n\n    loadUsers();\n  }, [authState.isAuthenticated]); // Add authState.isAuthenticated as dependency\n\n  // Filter time entries based on current filters\n  const filteredEntries = useMemo(() => {\n    let filtered = [...timeEntries];\n\n    if (filters.technicianName) {\n      filtered = filtered.filter(entry =>\n        entry.technicianName.toLowerCase().includes(filters.technicianName!.toLowerCase())\n      );\n    }\n\n    if (filters.customerName) {\n      filtered = filtered.filter(entry =>\n        entry.customerName.toLowerCase().includes(filters.customerName!.toLowerCase())\n      );\n    }\n\n    if (filters.status && filters.status !== 'all') {\n      if (filters.status === 'active') {\n        filtered = filtered.filter(entry => entry.isActive);\n      } else if (filters.status === 'completed') {\n        filtered = filtered.filter(entry => !entry.isActive);\n      }\n    }\n\n    if (filters.dateRange) {\n      filtered = filtered.filter(entry => {\n        const entryDate = entry.clockInTime || entry.driveStartTime;\n        if (!entryDate) return false;\n        return entryDate >= filters.dateRange!.start && entryDate <= filters.dateRange!.end;\n      });\n    }\n\n    return filtered.sort((a, b) => {\n      const aDate = a.clockInTime || a.driveStartTime;\n      const bDate = b.clockInTime || b.driveStartTime;\n      if (!aDate || !bDate) return 0;\n      return bDate.getTime() - aDate.getTime();\n    });\n  }, [filters, timeEntries]);\n\n  // Calculate dashboard stats from real data\n  const dashboardStats = useMemo((): DashboardStats => {\n    const totalEntries = timeEntries.length;\n    const activeEntries = timeEntries.filter(entry => entry.isActive).length;\n    const totalHours = timeEntries\n      .filter(entry => entry.duration)\n      .reduce((sum, entry) => sum + (entry.duration || 0), 0) / (1000 * 60 * 60);\n    const averageHoursPerDay = totalHours / Math.max(1, new Set(timeEntries.map(e => {\n      const date = e.clockInTime || e.driveStartTime;\n      return date ? date.toDateString() : 'unknown';\n    }).filter(dateStr => dateStr !== 'unknown')).size);\n    const techniciansWorking = new Set(timeEntries.filter(entry => entry.isActive).map(entry => entry.userId)).size;\n\n    return {\n      totalEntries,\n      activeEntries,\n      totalHours,\n      averageHoursPerDay,\n      techniciansWorking,\n    };\n  }, [timeEntries]);\n\n  // Get unique technician and customer names for filters\n  const technicianNames = useMemo(() => \n    [...new Set(timeEntries.map(entry => entry.technicianName))].sort(),\n    [timeEntries]\n  );\n\n  const customerNames = useMemo(() => \n    [...new Set(timeEntries.map(entry => entry.customerName))].sort(),\n    [timeEntries]\n  );\n\n  // Group entries by date\n  const groupedEntries = useMemo(() => {\n    const groups: { [key: string]: TimeEntry[] } = {};\n    filteredEntries.forEach(entry => {\n      const entryDate = entry.clockInTime || entry.driveStartTime;\n      const dateKey = entryDate ? entryDate.toDateString() : 'Unknown';\n      if (!groups[dateKey]) {\n        groups[dateKey] = [];\n      }\n      groups[dateKey].push(entry);\n    });\n    return groups;\n  }, [filteredEntries]);\n\n  // CSV Export functionality\n  const handleExport = () => {\n    const csvHeaders = [\n      'Date',\n      'Technician Name',\n      'Customer Name',\n      'Clock In Time',\n      'Clock Out Time',\n      'Drive Start',\n      'Drive End',\n      'Lunch Start',\n      'Lunch End',\n      'Total Duration',\n      'Drive Duration',\n      'Lunch Duration',\n      'Status'\n    ];\n\n    const csvData = filteredEntries.map(entry => [\n      formatDate(entry.clockInTime || entry.driveStartTime || new Date()) || 'Unknown Date',\n      entry.technicianName,\n      entry.customerName,\n      entry.clockInTime ? formatTime(entry.clockInTime) : 'N/A',\n      entry.clockOutTime ? formatTime(entry.clockOutTime) : 'N/A',\n      entry.driveStartTime ? formatTime(entry.driveStartTime) : 'N/A',\n      entry.driveEndTime ? formatTime(entry.driveEndTime) : 'N/A',\n      entry.lunchStartTime ? formatTime(entry.lunchStartTime) : 'N/A',\n      entry.lunchEndTime ? formatTime(entry.lunchEndTime) : 'N/A',\n      entry.formattedDuration || 'N/A',\n      entry.formattedDriveDuration || 'N/A',\n      entry.formattedLunchDuration || 'N/A',\n      entry.isDriving ? 'Driving' : entry.isActive ? (entry.isOnLunch ? 'On Lunch' : 'Active') : 'Completed'\n    ]);\n\n    const csvContent = [csvHeaders, ...csvData]\n      .map(row => row.map(cell => `\"${cell}\"`).join(','))\n      .join('\\n');\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    if (link.download !== undefined) {\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', `time_entries_${new Date().toISOString().split('T')[0]}.csv`);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  };\n\n  // Create new user\n  const handleCreateUser = async () => {\n    if (!newUser.username.trim() || !newUser.displayName.trim() || !newUser.password.trim()) {\n      alert('Please fill in username, display name, and password');\n      return;\n    }\n\n    if (newUser.password.length < 6) {\n      alert('Password must be at least 6 characters long');\n      return;\n    }\n\n    try {\n      setCreatingUser(true);\n      const createdUser = await api.createUser({\n        username: newUser.username.trim(),\n        displayName: newUser.displayName.trim(),\n        password: newUser.password,\n        role: newUser.role\n      });\n      \n      setUsers(prev => [...prev, {\n        id: createdUser.id,\n        username: createdUser.username,\n        displayName: createdUser.displayName,\n        role: (createdUser as any).role || 'tech' // Default to tech role if not provided\n      }]);\n      \n      setNewUser({ username: '', displayName: '', password: '', role: 'tech' });\n      setShowCreateUser(false);\n      alert('User created successfully!');\n    } catch (err) {\n      console.error('Failed to create user:', err);\n      alert('Failed to create user. Please try again.');\n    } finally {\n      setCreatingUser(false);\n    }\n  };\n\n  // Delete user\n  const handleDeleteUser = async () => {\n    if (!userToDelete) return;\n    \n    try {\n      setDeletingUser(true);\n      await api.deleteUser(userToDelete.id);\n      \n      // Remove user from local state\n      setUsers(users.filter(u => u.id !== userToDelete.id));\n      setUserToDelete(null);\n    } catch (error) {\n      console.error('Failed to delete user:', error);\n      setError('Failed to delete user. They may have existing time entries.');\n    } finally {\n      setDeletingUser(false);\n    }\n  };\n\n  const handleClearDatabase = async () => {\n    try {\n      setClearingDatabase(true);\n      await api.clearDatabase();\n      \n      // Clear local time entries\n      setTimeEntries([]);\n      setShowClearDatabaseConfirm(false);\n      \n      // Show success message\n      alert('Database cleared successfully! All time entries have been removed.');\n    } catch (error) {\n      console.error('Failed to clear database:', error);\n      setError('Failed to clear database. Please try again.');\n    } finally {\n      setClearingDatabase(false);\n    }\n  };\n\n  // Handle authentication loading\n  if (authState.isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Clock className=\"w-12 h-12 text-primary-600 mx-auto mb-4 animate-spin\" />\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Checking authentication...</h2>\n          <p className=\"text-gray-500\">Please wait</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show login form if not authenticated\n  if (!authState.isAuthenticated) {\n    return (\n      <LoginForm\n        onLogin={async (username, password) => {\n          await login(username, password);\n          clearError();\n        }}\n        isLoading={authState.isLoading}\n        error={authState.error}\n      />\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Clock className=\"w-12 h-12 text-primary-600 mx-auto mb-4 animate-spin\" />\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Loading...</h2>\n          <p className=\"text-gray-500\">Fetching time entries from database</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center space-x-4\">\n              <Clock className=\"w-8 h-8 text-primary-600\" />\n              <div>\n                <h1 className=\"text-xl font-semibold text-gray-900\">ICAV Time Tracker</h1>\n                <p className=\"text-sm text-gray-500\">Office Dashboard</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              {/* User Info */}\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"flex items-center space-x-2 text-sm\">\n                  {authState.user?.role === 'admin' ? (\n                    <Shield className=\"w-4 h-4 text-orange-500\" />\n                  ) : (\n                    <UserCheck className=\"w-4 h-4 text-blue-500\" />\n                  )}\n                  <span className=\"text-gray-700\">{authState.user?.displayName}</span>\n                  <span className=\"text-gray-500\">\n                    ({authState.user?.role === 'admin' ? 'Admin' : 'Tech'})\n                  </span>\n                </div>\n              </div>\n\n              {error && (\n                <div className=\"text-sm text-orange-600 bg-orange-50 px-3 py-1 rounded-lg\">\n                  ⚠️ {error}\n                </div>\n              )}\n\n              {/* Admin-only features */}\n              {authState.user?.role === 'admin' && (\n                <>\n                  <button\n                    onClick={() => setShowReports(true)}\n                    className=\"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                  >\n                    <FileText className=\"w-4 h-4\" />\n                    <span>Reports</span>\n                  </button>\n                  <button\n                    onClick={handleExport}\n                    className=\"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    <span>Export</span>\n                  </button>\n                  <button\n                    onClick={() => setShowSettings(true)}\n                    className=\"p-2 text-gray-400 hover:text-gray-600\"\n                    title=\"Settings\"\n                  >\n                    <Settings className=\"w-5 h-5\" />\n                  </button>\n                </>\n              )}\n\n              {/* Logout Button */}\n              <button\n                onClick={logout}\n                className=\"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-900 transition-colors\"\n                title=\"Logout\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n                <span className=\"hidden sm:inline\">Logout</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Dashboard Stats */}\n        <DashboardStatsComponent stats={dashboardStats} />\n\n        {/* Filters */}\n        <TimeEntryFiltersComponent\n          filters={filters}\n          onFiltersChange={setFilters}\n          technicianNames={technicianNames}\n          customerNames={customerNames}\n        />\n\n        {/* Results Summary */}\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">\n              Time Entries ({filteredEntries.length})\n            </h2>\n            <div className=\"text-sm text-gray-500\">\n              Showing {filteredEntries.length} of {timeEntries.length} entries\n            </div>\n          </div>\n        </div>\n\n        {/* Time Entries */}\n        <div className=\"space-y-8\">\n          {Object.entries(groupedEntries).map(([dateKey, entries]) => (\n            <div key={dateKey}>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                {dateKey === 'Unknown' ? 'Unknown Date' : formatDate(new Date(dateKey))}\n              </h3>\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6\">\n                {entries.map((entry) => (\n                  <TimeEntryCard\n                    key={entry.id}\n                    entry={entry}\n                    onClick={() => setSelectedEntry(entry)}\n                  />\n                ))}\n              </div>\n            </div>\n          ))}\n\n          {filteredEntries.length === 0 && !loading && (\n            <div className=\"text-center py-12\">\n              <Users className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No time entries found</h3>\n              <p className=\"text-gray-500\">\n                {timeEntries.length === 0 \n                  ? \"No time entries in database. Add some entries to get started.\"\n                  : \"Try adjusting your filters to see more results.\"\n                }\n              </p>\n            </div>\n          )}\n        </div>\n      </main>\n\n      {/* Settings Modal - Admin Only */}\n      {showSettings && authState.user?.role === 'admin' && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">Settings</h2>\n                <button\n                  onClick={() => setShowSettings(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              {/* User Management Section */}\n              <div className=\"mb-8\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">User Management</h3>\n                  <button\n                    onClick={() => setShowCreateUser(true)}\n                    className=\"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\n                  >\n                    <UserPlus className=\"w-4 h-4\" />\n                    <span>Add User</span>\n                  </button>\n                </div>\n\n                <div className=\"bg-gray-50 rounded-lg p-4\">\n                  {users.length === 0 ? (\n                    <p className=\"text-gray-500 text-center py-4\">No users found. Add your first user!</p>\n                  ) : (\n                    <div className=\"space-y-2\">\n                      {users.map(user => (\n                        <div key={user.id} className=\"flex items-center justify-between bg-white p-3 rounded-lg\">\n                          <div>\n                            <div className=\"flex items-center space-x-2\">\n                              <div className=\"font-medium text-gray-900\">{user.displayName}</div>\n                              <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                                user.role === 'admin' \n                                  ? 'bg-orange-100 text-orange-800' \n                                  : 'bg-blue-100 text-blue-800'\n                              }`}>\n                                {user.role === 'admin' ? 'Admin' : 'Tech'}\n                              </span>\n                            </div>\n                            <div className=\"text-sm text-gray-500\">@{user.username}</div>\n                            {user.email && (\n                              <div className=\"text-sm text-gray-400\">{user.email}</div>\n                            )}\n                          </div>\n                          <div className=\"flex items-center space-x-3\">\n                            <div className=\"text-sm text-gray-400\">ID: {user.id.slice(0, 8)}...</div>\n                            <button\n                              onClick={() => setUserToDelete(user)}\n                              className=\"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                              title=\"Delete user\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Export Section */}\n              <div className=\"mb-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Export Data</h3>\n                <div className=\"bg-gray-50 rounded-lg p-4\">\n                  <p className=\"text-gray-600 mb-4\">\n                    Export filtered time entries to CSV format for analysis in Excel or other tools.\n                  </p>\n                  <button\n                    onClick={() => {\n                      handleExport();\n                      setShowSettings(false);\n                    }}\n                    className=\"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    <span>Export Current View</span>\n                  </button>\n                </div>\n              </div>\n\n              {/* Database Management Section */}\n              <div className=\"mb-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Database Management</h3>\n                <div className=\"bg-gray-50 rounded-lg p-4\">\n                  <div className=\"mb-4\">\n                    <h4 className=\"text-md font-medium text-gray-900 mb-2\">Clear Database</h4>\n                    <p className=\"text-gray-600 mb-4\">\n                      Remove all time entries from the database. This action cannot be undone and will permanently delete all time tracking data.\n                    </p>\n                    <div className=\"bg-red-50 border border-red-200 rounded-lg p-3 mb-4\">\n                      <p className=\"text-sm text-red-800\">\n                        <strong>Warning:</strong> This will permanently delete all time entries. Make sure you have exported any important data before proceeding.\n                      </p>\n                    </div>\n                    <button\n                      onClick={() => setShowClearDatabaseConfirm(true)}\n                      className=\"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                      <span>Clear All Time Entries</span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete User Confirmation Modal */}\n      {userToDelete && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-md w-full\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">Delete User</h2>\n                <button\n                  onClick={() => setUserToDelete(null)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                  disabled={deletingUser}\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"mb-6\">\n                <div className=\"flex items-center space-x-3 mb-4\">\n                  <div className=\"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\">\n                    <Trash2 className=\"w-5 h-5 text-red-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"text-lg font-medium text-gray-900\">Are you sure?</h3>\n                    <p className=\"text-sm text-gray-500\">This action cannot be undone.</p>\n                  </div>\n                </div>\n\n                <div className=\"bg-gray-50 rounded-lg p-3 mb-4\">\n                  <div className=\"font-medium text-gray-900\">{userToDelete.displayName}</div>\n                  <div className=\"text-sm text-gray-500\">@{userToDelete.username}</div>\n                </div>\n\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n                  <p className=\"text-sm text-yellow-800\">\n                    <strong>Note:</strong> Users with existing time entries cannot be deleted. \n                    This protects your data integrity.\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={() => setUserToDelete(null)}\n                  disabled={deletingUser}\n                  className=\"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleDeleteUser}\n                  disabled={deletingUser}\n                  className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {deletingUser ? 'Deleting...' : 'Delete User'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Create User Modal */}\n      {showCreateUser && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-md w-full\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">Create New User</h2>\n                <button\n                  onClick={() => {\n                    setShowCreateUser(false);\n                    setNewUser({ username: '', displayName: '', password: '', role: 'tech' });\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Username *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={newUser.username}\n                    onChange={(e) => setNewUser(prev => ({ ...prev, username: e.target.value }))}\n                    placeholder=\"john.doe\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Username should be lowercase with dots or underscores\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Display Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={newUser.displayName}\n                    onChange={(e) => setNewUser(prev => ({ ...prev, displayName: e.target.value }))}\n                    placeholder=\"John Doe\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Full name as it will appear in the interface\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Password *\n                  </label>\n                  <input\n                    type=\"password\"\n                    value={newUser.password}\n                    onChange={(e) => setNewUser(prev => ({ ...prev, password: e.target.value }))}\n                    placeholder=\"Enter password\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Leave blank to use default password (username123)\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Role\n                  </label>\n                  <select\n                    value={newUser.role}\n                    onChange={(e) => setNewUser(prev => ({ ...prev, role: e.target.value }))}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n                  >\n                    <option value=\"tech\">Technician</option>\n                    <option value=\"admin\">Administrator</option>\n                  </select>\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Technicians can only view data, Admins can manage users and export data\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex space-x-3 mt-6\">\n                <button\n                  onClick={() => {\n                    setShowCreateUser(false);\n                    setNewUser({ username: '', displayName: '', password: '', role: 'tech' });\n                  }}\n                  className=\"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleCreateUser}\n                  disabled={creatingUser || !newUser.username || !newUser.displayName}\n                  className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {creatingUser ? 'Creating...' : 'Create User'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Clear Database Confirmation Modal */}\n      {showClearDatabaseConfirm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-md w-full\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">Clear Database</h2>\n                <button\n                  onClick={() => setShowClearDatabaseConfirm(false)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                  disabled={clearingDatabase}\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"mb-6\">\n                <div className=\"flex items-center space-x-3 mb-4\">\n                  <div className=\"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\">\n                    <Trash2 className=\"w-5 h-5 text-red-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"text-lg font-medium text-gray-900\">Are you absolutely sure?</h3>\n                    <p className=\"text-sm text-gray-500\">This action cannot be undone.</p>\n                  </div>\n                </div>\n\n                <div className=\"bg-red-50 border border-red-200 rounded-lg p-3 mb-4\">\n                  <p className=\"text-sm text-red-800\">\n                    <strong>Warning:</strong> This will permanently delete ALL time entries from the database. \n                    This includes all clock in/out records, lunch breaks, and time tracking data.\n                  </p>\n                </div>\n\n                <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3\">\n                  <p className=\"text-sm text-yellow-800\">\n                    <strong>Recommendation:</strong> Export your data first to preserve any important records.\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={() => setShowClearDatabaseConfirm(false)}\n                  disabled={clearingDatabase}\n                  className=\"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleClearDatabase}\n                  disabled={clearingDatabase}\n                  className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {clearingDatabase ? 'Clearing...' : 'Clear All Data'}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Entry Detail Modal */}\n      {selectedEntry && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">Entry Details</h2>\n                <button\n                  onClick={() => setSelectedEntry(null)}\n                  className=\"text-gray-400 hover:text-gray-600\"\n                >\n                  <X className=\"w-6 h-6\" />\n                </button>\n              </div>\n              <TimeEntryCard entry={selectedEntry} />\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Reports Modal */}\n      {showReports && (\n        <Reports\n          timeEntries={timeEntries}\n          onClose={() => setShowReports(false)}\n        />\n      )}\n    </div>\n  );\n}\n\n// Main App component with AuthProvider wrapper\nfunction App() {\n  return (\n    <AuthProvider>\n      <AppContent />\n    </AuthProvider>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}